<%# Created by IntelliJ IDEA.
    User: jbeck
    Date: Apr 28, 2009
    Time: 9:32:22 PM
%>
<script type="text/javascript">
    function preview()
    {
        Effect.Fade('form_div', { duration: 0.5 });
        setTimeout("Effect.Appear('preview_div', { duration: 0.5 })", 500);
    }
    function edit()
    {
        Effect.Fade('preview_div', { duration: 0.5 });
        setTimeout("Effect.Appear('form_div', { duration: 0.5 })", 500);
    }
</script>
<div id="form_div" class="span-13" style="padding-top: 10px;">
    <br />
    <% form_for :post, @post, :url => { :action => "update" }, :id => 'edit_post_form' do |f| %>
        Subject:<br />
        <%= f.text_field :subject %><br /><br />
        Body:<br />
        <%= f.text_area :body, :size => "60x15" %><br />
        Published: <%= f.check_box :published %>
        <br /><br />
        <%= submit_tag "Update", :id => 'submit_button' %>&nbsp;<%= tag "input", { :type => "button", :id => "preview_button", :value => "Preview", :onclick => 'preview();' } %>
    <% end %>
</div>
<div id="preview_div" class="span-13" style="padding-top: 10px; display:none;">
    <!-- TODO: Figure out how to make the preview show the current content rather than the saved content -->
    <h2 class="bottom" style="margin-bottom: -10px; padding-top: 10px;">
        <%= h @post.subject %>
    </h2>
    <span class="small quiet"><%= @post.created_at.strftime("%m/%d/%Y %H:%M:%S") %> by <%= User.find(@post.user_id).name %></span><br />
    <%= @post.body %>
    <%= tag "input", { :type => "button", :value => "Edit", :id => "edit_button", :onclick => 'edit();' } %>
</div>
